# Vectors Enhanced 项目简介

## 项目概述
Vectors Enhanced 是 SillyTavern 的高级向量化扩展插件，提供语义搜索、内容管理和智能记忆功能。通过先进的向量化技术增强AI对话的上下文相关性。

## 当前状态
项目功能完整且稳定运行，已完成85%的模块化重构。主要功能包括多引擎向量化、记忆管理系统、外挂任务系统等。

## 核心功能

### 1. 向量化系统
- **多引擎支持**: Transformers.js、Ollama、vLLM、WebLLM、OpenAI、Cohere
- **智能处理**: 批量处理、增量更新、去重机制
- **两阶段架构**: 数据准备与实际向量化分离

### 2. 记忆管理系统
- **AI总结生成**: 支持OpenAI兼容API和Google Gemini API
- **世界书集成**: 自动创建chat lore绑定的世界书
- **自动总结**: 每N层楼自动触发，支持隐藏已总结楼层

### 3. 外挂任务系统
- **跨聊天共享**: 引用机制避免数据重复
- **循环引用保护**: 防止A引用B，B又引用A
- **智能解析**: 自动提取角色名和格式化显示

### 4. 内容注入系统
- **语义匹配**: 基于相似度的智能内容检索
- **灵活配置**: 多种注入位置和深度设置
- **标签触发**: 支持复杂的标签规则

## 技术架构

### 分层设计
- **应用层**: 业务逻辑协调和任务管理
- **核心层**: 实体定义、提取器、处理管道
- **UI层**: 15+独立组件、状态管理、事件系统
- **基础设施层**: 存储适配、API封装、事件总线

### 设计亮点
- **模块化程度**: 85%代码已模块化
- **设计模式**: 工厂、适配器、观察者、策略模式
- **安全机制**: API密钥保护、循环引用检测、并发控制
- **性能优化**: 批量处理、缓存机制、延迟加载、事件防抖

## 项目价值
- 为SillyTavern用户提供企业级的语义搜索能力
- 通过智能记忆系统增强长对话的连贯性
- 支持多种使用场景和向量化引擎

## 未来规划
- **短期**: 完成剩余模块化、添加TypeScript支持
- **中期**: 新增向量化源、智能聚类功能
- **长期**: 插件市场、多模态支持、企业级特性